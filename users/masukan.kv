#:kivy 2.3.0
<MasukanScreen>:
    BoxLayout:
        orientation: 'vertical'

        # Header
        BoxLayout:
            size_hint_y: None
            height: dp(60)
            padding: dp(10)
            spacing: dp(10)

            MDIconButton:
                icon: 'arrow-left'
                on_release:
                    app.root.current = 'pengaduan'
                theme_text_color: 'Custom'
                text_color: (1, 1, 1, 1)

            Label:
                text: "Masukan"
                font_size: '30sp'
                font_name: 'assets/font/Montserrat-Bold.otf'
                bold: True
                halign: 'center'
                valign: 'middle'
                size_hint_x: 1

        # Spacer
        Widget:
            size_hint_y: None
            height: dp(70)

        # Text Fields
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            padding: dp(20)

            MDTextField:
                id: judul_field
                hint_text: "Judul"
                mode: "rectangle"
                size_hint_y: None
                height: dp(40)

            MDTextField:
                id: alamat_field
                hint_text: "Alamat"
                mode: "rectangle"
                size_hint_y: None
                height: dp(40)

            MDTextField:
                id: deskripsi_field
                hint_text: "Deskripsi"
                mode: "rectangle"
                size_hint_y: None
                height: dp(40)

            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: dp(50)
                spacing: dp(10)

                MDTextField:
                    id: gambar_field
                    hint_text: "Gambar"
                    mode: "rectangle"
                    readonly: True  # Gambar tidak bisa diedit langsung
                    size_hint_y: None
                    height: dp(40)

                MDIconButton:
                    icon: "folder"
                    on_release: root.open_file_chooser()  # Panggil pemilih file ketika tombol ditekan

        # Spacer
        Widget:
            size_hint_y: None
            height: dp(30)

        # Buttons
        BoxLayout:
            size_hint_y: None
            height: dp(50)
            spacing: dp(10)
            padding: dp(20)

            MDFlatButton:
                text: "Batal"
                font_name: 'assets/font/Montserrat-Bold.otf'
                on_release:
                    app.root.current = 'pengaduan'
                md_bg_color: (0.7, 0.7, 0.7, 1)

            MDFlatButton:
                text: "Simpan"
                font_name: 'assets/font/Montserrat-Bold.otf'
                on_release: root.save_pengaduan()  # Panggil fungsi untuk menyimpan pengaduan
                md_bg_color: (0.0, 0.5, 0.5, 1)

        # Bottom Navigation Bar
        MDBottomNavigation:
            panel_color: "#EEEEEE"
            text_color_active: "#888888"
            text_color_normal: "#888888"
            icon_color_active: "#888888"
            icon_color_normal: "#888888"

            MDBottomNavigationItem:
                name: 'home'
                text: 'Home'
                icon: 'home'
                on_tab_press: app.root.current = 'home'

            MDBottomNavigationItem:
                name: 'pesan'
                text: 'Pesan'
                icon: 'message'
                on_tab_press: app.root.current = 'pesan'

            MDBottomNavigationItem:
                name: 'pengaduan'
                text: 'Pengaduan'
                icon: 'alert-circle-outline'
                on_tab_press: app.root.current = 'pengaduan'

            MDBottomNavigationItem:
                name: 'profil'
                text: 'Profil'
                icon: 'account'
                on_tab_press: app.root.current = 'profil'
